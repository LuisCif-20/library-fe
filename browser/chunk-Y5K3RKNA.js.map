{
  "version": 3,
  "sources": ["src/app/librarian/pages/configuration-page/configuration-page.component.ts", "src/app/librarian/pages/configuration-page/configuration-page.component.html"],
  "sourcesContent": ["import { Component, computed, inject, signal } from '@angular/core';\nimport { NonNullableFormBuilder, Validators } from '@angular/forms';\nimport { environment } from '@envs/environment';\nimport { ConfigurationService } from 'src/app/core/services/configuration.service';\nimport { ImageInputComponent } from 'src/app/forms/components/image-input/image-input.component';\nimport { TextInputComponent } from 'src/app/forms/components/text-input/text-input.component';\nimport { HoverStyleDirective } from 'src/app/shared/directives/hover-style.directive';\nimport { AlertService } from 'src/app/shared/services/alert.service';\n\n@Component({\n  selector: 'app-configuration-page',\n  imports: [\n    ImageInputComponent,\n    TextInputComponent,\n    HoverStyleDirective\n  ],\n  templateUrl: './configuration-page.component.html',\n  styles: ``\n})\nexport default class ConfigurationPageComponent {\n\n  private configurationService = inject(ConfigurationService);\n  private formBuilder = inject(NonNullableFormBuilder);\n  private alertService = inject(AlertService);\n\n  public config = computed(() => this.configurationService.configuration());\n\n  public src = signal<string>(`${environment.AWS_URL}/${this.config()!.logo}`);\n\n  public configForm = this.formBuilder.group({\n    name: this.formBuilder.control(this.config()!.name, [Validators.required]),\n    imageFile: this.formBuilder.control<Blob | null>(null),\n    dailyRate: this.formBuilder.control(this.config()!.dailyRate, [Validators.required]),\n    lateFee: this.formBuilder.control(this.config()!.lateFee, [Validators.required]),\n    lossFee: this.formBuilder.control(this.config()!.lossFee, [Validators.required]),\n    maxLoans: this.formBuilder.control(this.config()!.maxLoans, [Validators.required]),\n    loanPeriodDays: this.formBuilder.control(this.config()!.loanPeriodDays, [Validators.required]),\n    loanOverdueLimit: this.formBuilder.control(this.config()!.loanOverdueLimit, [Validators.required]),\n    phone: this.formBuilder.control(this.config()!.phone, [Validators.required]),\n  });\n\n  constructor() { }\n\n  public onUpdateConfig(): void {\n    if (this.configForm.invalid) {\n      this.alertService.showAlert('Formulario incompleto, porfavor llena los campos.', 'error');\n      this.configForm.markAllAsTouched();\n      return;\n    }\n    this.configurationService.updateConfiguration(this.configForm.getRawValue()).subscribe({\n      next: () => {\n        this.alertService.showAlert('Informacion actualizada.', 'success');\n      },\n      error: () => {\n        this.alertService.showAlert('Algo ocurrio en la actualizacion.', 'error')\n      }\n    });\n  }\n\n}\n", "<div class=\"flex flex-col h-full p-10\">\n  <h2 class=\"font-bold text-3xl text-center\">Configuracion</h2>\n  <div class=\"grid grid-cols-1 md:grid-cols-3 mt-10\">\n    <div class=\"w-full flex flex-col px-2\">\n      <div class=\"w-full p-2 shadow-md bg-base-200 rounded-2xl flex justify-center\">\n        <img [src]=\"src()\" [alt]=\"config()!.name\" class=\"h-full object-cover object-center\">\n      </div>\n      <image-input class=\"mx-auto\" [control]=\"configForm.controls.imageFile\" (imageUrl)=\"src.set($event)\"\n        legend=\"Logo\" label=\"Este campo es obligatorio.\"\n      />\n    </div>\n    <div class=\"w-full flex flex-col px-2\">\n      <text-input class=\"mx-auto w-75\" [control]=\"configForm.controls.name\" legend=\"Nombre\"\n        label=\"El campo es obligatorio.\" placeholder=\"Biblioteca\"\n      />\n      <text-input class=\"mx-auto w-75\" [control]=\"configForm.controls.phone\" legend=\"Telefono\"\n        label=\"El campo es obligatorio.\" placeholder=\"XXXX-XXXX\" mask=\"0000-0000\"\n      />\n      <text-input class=\"mx-auto w-75\" [control]=\"configForm.controls.dailyRate\" legend=\"Tarifa Diaria\"\n        label=\"El campo es obligatorio.\" type=\"number\" [min]=\"0\" [step]=\"0.01\"\n      />\n      <text-input class=\"mx-auto w-75\" [control]=\"configForm.controls.maxLoans\" legend=\"Maximo de Prestamos\"\n        label=\"El campo es obligatorio.\" type=\"number\" [min]=\"0\"\n      />\n    </div>\n    <div class=\"w-full flex flex-col px-2\">\n      <text-input class=\"mx-auto w-75\" [control]=\"configForm.controls.lateFee\" legend=\"Cargo por Atraso\"\n        label=\"El campo es obligatorio.\" type=\"number\" [min]=\"0\" [step]=\"0.01\"\n      />\n      <text-input class=\"mx-auto w-75\" [control]=\"configForm.controls.lossFee\" legend=\"Cargo por Perdida\"\n        label=\"El campo es obligatorio.\" type=\"number\" [min]=\"0\" [step]=\"0.01\"\n      />\n      <text-input class=\"mx-auto w-75\" [control]=\"configForm.controls.loanPeriodDays\" legend=\"Periodo de Prestamo sin Cobro\"\n        label=\"El campo es obligatorio.\" type=\"number\" [min]=\"0\"\n      />\n      <text-input class=\"mx-auto w-75\" [control]=\"configForm.controls.loanOverdueLimit\" legend=\"Limite de Dias de Prestamo\"\n        label=\"El campo es obligatorio.\" type=\"number\" [min]=\"0\"\n      />\n    </div>\n  </div>\n  <button class=\"btn btn-primary text-white rounded-full mx-auto mt-10\" hoverStyle (click)=\"onUpdateConfig()\">\n    <span>store</span>\n    Actualizar\n  </button>\n\n</div>\n"],
  "mappings": "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",
  "names": []
}
